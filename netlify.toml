# Netlify config for Next.js using the official plugin
[build]
  # Netlify will run `npm run build` which should call `next build` from package.json
  command = "npm run build"
  # The plugin requires the publish directory to not be the repo root.
  # Next.js produces a `.next` folder for a standard build; set that as publish.
  publish = ".next"
  # Ensure a compatible Node version is used during the build.
  # We also committed a .nvmrc with 18.18.0; set NODE_VERSION here as a fallback.
  environment = { NODE_VERSION = "18.18.0" }

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Optional: redirects or headers can be added below if needed
